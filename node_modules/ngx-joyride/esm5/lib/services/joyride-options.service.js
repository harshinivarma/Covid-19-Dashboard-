/**
 * @fileoverview added by tsickle
 * Generated from: lib/services/joyride-options.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { of, Observable } from 'rxjs';
/** @type {?} */
export var DEFAULT_THEME_COLOR = '#3b5560';
/** @type {?} */
export var STEP_DEFAULT_POSITION = 'bottom';
/** @type {?} */
export var DEFAULT_TIMEOUT_BETWEEN_STEPS = 1;
var ObservableCustomTexts = /** @class */ (function () {
    function ObservableCustomTexts() {
    }
    return ObservableCustomTexts;
}());
export { ObservableCustomTexts };
if (false) {
    /** @type {?} */
    ObservableCustomTexts.prototype.prev;
    /** @type {?} */
    ObservableCustomTexts.prototype.next;
    /** @type {?} */
    ObservableCustomTexts.prototype.done;
    /** @type {?} */
    ObservableCustomTexts.prototype.close;
}
/** @type {?} */
export var DEFAULT_TEXTS = {
    prev: of('prev'),
    next: of('next'),
    done: of('done'),
    close: of(null)
};
/**
 * @record
 */
export function IJoyrideOptionsService() { }
if (false) {
    /**
     * @param {?} options
     * @return {?}
     */
    IJoyrideOptionsService.prototype.setOptions = function (options) { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getBackdropColor = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getThemeColor = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getStepDefaultPosition = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getStepsOrder = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getFirstStep = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getWaitingTime = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.areLogsEnabled = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.isCounterVisible = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.isPrevButtonVisible = function () { };
    /**
     * @return {?}
     */
    IJoyrideOptionsService.prototype.getCustomTexts = function () { };
}
var JoyrideOptionsService = /** @class */ (function () {
    function JoyrideOptionsService() {
        this.themeColor = DEFAULT_THEME_COLOR;
        this.stepDefaultPosition = STEP_DEFAULT_POSITION;
        this.logsEnabled = false;
        this.showCounter = true;
        this.showPrevButton = true;
        this.stepsOrder = [];
    }
    /**
     * @param {?} options
     * @return {?}
     */
    JoyrideOptionsService.prototype.setOptions = /**
     * @param {?} options
     * @return {?}
     */
    function (options) {
        this.stepsOrder = options.steps;
        this.stepDefaultPosition = options.stepDefaultPosition
            ? options.stepDefaultPosition
            : this.stepDefaultPosition;
        this.logsEnabled =
            typeof options.logsEnabled !== 'undefined'
                ? options.logsEnabled
                : this.logsEnabled;
        this.showCounter =
            typeof options.showCounter !== 'undefined'
                ? options.showCounter
                : this.showCounter;
        this.showPrevButton =
            typeof options.showPrevButton !== 'undefined'
                ? options.showPrevButton
                : this.showPrevButton;
        this.themeColor = options.themeColor
            ? options.themeColor
            : this.themeColor;
        this.firstStep = options.startWith;
        this.waitingTime =
            typeof options.waitingTime !== 'undefined'
                ? options.waitingTime
                : DEFAULT_TIMEOUT_BETWEEN_STEPS;
        typeof options.customTexts !== 'undefined'
            ? this.setCustomText(options.customTexts)
            : this.setCustomText(DEFAULT_TEXTS);
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getBackdropColor = /**
     * @return {?}
     */
    function () {
        return this.hexToRgb(this.themeColor);
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getThemeColor = /**
     * @return {?}
     */
    function () {
        return this.themeColor;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getStepDefaultPosition = /**
     * @return {?}
     */
    function () {
        return this.stepDefaultPosition;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getStepsOrder = /**
     * @return {?}
     */
    function () {
        return this.stepsOrder;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getFirstStep = /**
     * @return {?}
     */
    function () {
        return this.firstStep;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getWaitingTime = /**
     * @return {?}
     */
    function () {
        return this.waitingTime;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.areLogsEnabled = /**
     * @return {?}
     */
    function () {
        return this.logsEnabled;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.isCounterVisible = /**
     * @return {?}
     */
    function () {
        return this.showCounter;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.isPrevButtonVisible = /**
     * @return {?}
     */
    function () {
        return this.showPrevButton;
    };
    /**
     * @return {?}
     */
    JoyrideOptionsService.prototype.getCustomTexts = /**
     * @return {?}
     */
    function () {
        return this.customTexts;
    };
    /**
     * @private
     * @param {?} texts
     * @return {?}
     */
    JoyrideOptionsService.prototype.setCustomText = /**
     * @private
     * @param {?} texts
     * @return {?}
     */
    function (texts) {
        /** @type {?} */
        var prev;
        /** @type {?} */
        var next;
        /** @type {?} */
        var done;
        /** @type {?} */
        var close;
        prev = texts.prev ? texts.prev : DEFAULT_TEXTS.prev;
        next = texts.next ? texts.next : DEFAULT_TEXTS.next;
        done = texts.done ? texts.done : DEFAULT_TEXTS.done;
        close = texts.close ? texts.close : DEFAULT_TEXTS.close;
        this.customTexts = (/** @type {?} */ ({
            prev: this.toObservable(prev),
            next: this.toObservable(next),
            done: this.toObservable(done),
            close: this.toObservable(close)
        }));
    };
    /**
     * @private
     * @param {?} value
     * @return {?}
     */
    JoyrideOptionsService.prototype.toObservable = /**
     * @private
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value instanceof Observable ? value : of(value);
    };
    /**
     * @private
     * @param {?} hex
     * @return {?}
     */
    JoyrideOptionsService.prototype.hexToRgb = /**
     * @private
     * @param {?} hex
     * @return {?}
     */
    function (hex) {
        /** @type {?} */
        var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
        hex = hex.replace(shorthandRegex, (/**
         * @param {?} m
         * @param {?} r
         * @param {?} g
         * @param {?} b
         * @return {?}
         */
        function (m, r, g, b) {
            return r + r + g + g + b + b;
        }));
        /** @type {?} */
        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result
            ? parseInt(result[1], 16) + ", " + parseInt(result[2], 16) + ", " + parseInt(result[3], 16)
            : null;
    };
    JoyrideOptionsService.decorators = [
        { type: Injectable }
    ];
    return JoyrideOptionsService;
}());
export { JoyrideOptionsService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.themeColor;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.stepDefaultPosition;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.logsEnabled;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.showCounter;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.showPrevButton;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.stepsOrder;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.firstStep;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.waitingTime;
    /**
     * @type {?}
     * @private
     */
    JoyrideOptionsService.prototype.customTexts;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam95cmlkZS1vcHRpb25zLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtam95cmlkZS8iLCJzb3VyY2VzIjpbImxpYi9zZXJ2aWNlcy9qb3lyaWRlLW9wdGlvbnMuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFNM0MsT0FBTyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0FBRXRDLE1BQU0sS0FBTyxtQkFBbUIsR0FBRyxTQUFTOztBQUM1QyxNQUFNLEtBQU8scUJBQXFCLEdBQUcsUUFBUTs7QUFDN0MsTUFBTSxLQUFPLDZCQUE2QixHQUFHLENBQUM7QUFFOUM7SUFBQTtJQUtBLENBQUM7SUFBRCw0QkFBQztBQUFELENBQUMsQUFMRCxJQUtDOzs7O0lBSkcscUNBQXlCOztJQUN6QixxQ0FBeUI7O0lBQ3pCLHFDQUF5Qjs7SUFDekIsc0NBQTBCOzs7QUFFOUIsTUFBTSxLQUFPLGFBQWEsR0FBMEI7SUFDaEQsSUFBSSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDaEIsSUFBSSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDaEIsSUFBSSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDaEIsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUM7Q0FDbEI7Ozs7QUFFRCw0Q0FZQzs7Ozs7O0lBWEcscUVBQTBDOzs7O0lBQzFDLG9FQUEyQjs7OztJQUMzQixpRUFBd0I7Ozs7SUFDeEIsMEVBQXlCOzs7O0lBQ3pCLGlFQUEwQjs7OztJQUMxQixnRUFBdUI7Ozs7SUFDdkIsa0VBQXlCOzs7O0lBQ3pCLGtFQUEwQjs7OztJQUMxQixvRUFBNEI7Ozs7SUFDNUIsdUVBQStCOzs7O0lBQy9CLGtFQUF3Qzs7QUFHNUM7SUFBQTtRQUVZLGVBQVUsR0FBVyxtQkFBbUIsQ0FBQztRQUN6Qyx3QkFBbUIsR0FBVyxxQkFBcUIs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QUFHLENBQUMsT0FBTyxDQUFDLGNBQWM7Ozs7Ozs7UUFBRSxVQUFDLENBQU0sRUFBRSxDQUFNLEVBQUUsQ0FBTSxFQUFFLENBQU07WUFDN0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxDQUFDLEVBQUMsQ0FBQzs7WUFFQyxNQUFNLEdBQUcsMkNBQTJDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUNsRSxPQUFPLE1BQU07WUFDVCxDQUFDLENBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsVUFBSyxRQUFRLENBQ25DLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDVCxFQUFFLENBQ0wsVUFBSyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBRztZQUNqQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2YsQ0FBQzs7Z0JBakhKLFVBQVU7O0lBa0hYLDRCQUFDO0NBQUEsQUFsSEQsSUFrSEM7U0FqSFkscUJBQXFCOzs7Ozs7SUFDOUIsMkNBQWlEOzs7OztJQUNqRCxvREFBNEQ7Ozs7O0lBQzVELDRDQUFxQzs7Ozs7SUFDckMsNENBQW9DOzs7OztJQUNwQywrQ0FBdUM7Ozs7O0lBQ3ZDLDJDQUFrQzs7Ozs7SUFDbEMsMENBQTBCOzs7OztJQUMxQiw0Q0FBNEI7Ozs7O0lBQzVCLDRDQUEyQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtcclxuICAgIEpveXJpZGVPcHRpb25zLFxyXG4gICAgQ3VzdG9tVGV4dHMsXHJcbiAgICBJQ3VzdG9tVGV4dHNcclxufSBmcm9tICcuLi9tb2RlbHMvam95cmlkZS1vcHRpb25zLmNsYXNzJztcclxuaW1wb3J0IHsgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RIRU1FX0NPTE9SID0gJyMzYjU1NjAnO1xyXG5leHBvcnQgY29uc3QgU1RFUF9ERUZBVUxUX1BPU0lUSU9OID0gJ2JvdHRvbSc7XHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVRfQkVUV0VFTl9TVEVQUyA9IDE7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZUN1c3RvbVRleHRzIGltcGxlbWVudHMgSUN1c3RvbVRleHRzIHtcclxuICAgIHByZXY6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuICAgIG5leHQ6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuICAgIGRvbmU6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuICAgIGNsb3NlOiBPYnNlcnZhYmxlPHN0cmluZz47XHJcbn1cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVYVFM6IE9ic2VydmFibGVDdXN0b21UZXh0cyA9IHtcclxuICAgIHByZXY6IG9mKCdwcmV2JyksXHJcbiAgICBuZXh0OiBvZignbmV4dCcpLFxyXG4gICAgZG9uZTogb2YoJ2RvbmUnKSxcclxuICAgIGNsb3NlOiBvZihudWxsKVxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSm95cmlkZU9wdGlvbnNTZXJ2aWNlIHtcclxuICAgIHNldE9wdGlvbnMob3B0aW9uczogSm95cmlkZU9wdGlvbnMpOiB2b2lkO1xyXG4gICAgZ2V0QmFja2Ryb3BDb2xvcigpOiBzdHJpbmc7XHJcbiAgICBnZXRUaGVtZUNvbG9yKCk6IHN0cmluZztcclxuICAgIGdldFN0ZXBEZWZhdWx0UG9zaXRpb24oKTtcclxuICAgIGdldFN0ZXBzT3JkZXIoKTogc3RyaW5nW107XHJcbiAgICBnZXRGaXJzdFN0ZXAoKTogc3RyaW5nO1xyXG4gICAgZ2V0V2FpdGluZ1RpbWUoKTogbnVtYmVyO1xyXG4gICAgYXJlTG9nc0VuYWJsZWQoKTogYm9vbGVhbjtcclxuICAgIGlzQ291bnRlclZpc2libGUoKTogYm9vbGVhbjtcclxuICAgIGlzUHJldkJ1dHRvblZpc2libGUoKTogYm9vbGVhbjtcclxuICAgIGdldEN1c3RvbVRleHRzKCk6IE9ic2VydmFibGVDdXN0b21UZXh0cztcclxufVxyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgSm95cmlkZU9wdGlvbnNTZXJ2aWNlIGltcGxlbWVudHMgSUpveXJpZGVPcHRpb25zU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHRoZW1lQ29sb3I6IHN0cmluZyA9IERFRkFVTFRfVEhFTUVfQ09MT1I7XHJcbiAgICBwcml2YXRlIHN0ZXBEZWZhdWx0UG9zaXRpb246IHN0cmluZyA9IFNURVBfREVGQVVMVF9QT1NJVElPTjtcclxuICAgIHByaXZhdGUgbG9nc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2hvd0NvdW50ZXI6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBzaG93UHJldkJ1dHRvbjogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIHN0ZXBzT3JkZXI6IHN0cmluZ1tdID0gW107XHJcbiAgICBwcml2YXRlIGZpcnN0U3RlcDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSB3YWl0aW5nVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjdXN0b21UZXh0czogT2JzZXJ2YWJsZUN1c3RvbVRleHRzO1xyXG5cclxuICAgIHNldE9wdGlvbnMob3B0aW9uczogSm95cmlkZU9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnN0ZXBzT3JkZXIgPSBvcHRpb25zLnN0ZXBzO1xyXG4gICAgICAgIHRoaXMuc3RlcERlZmF1bHRQb3NpdGlvbiA9IG9wdGlvbnMuc3RlcERlZmF1bHRQb3NpdGlvblxyXG4gICAgICAgICAgICA/IG9wdGlvbnMuc3RlcERlZmF1bHRQb3NpdGlvblxyXG4gICAgICAgICAgICA6IHRoaXMuc3RlcERlZmF1bHRQb3NpdGlvbjtcclxuICAgICAgICB0aGlzLmxvZ3NFbmFibGVkID1cclxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMubG9nc0VuYWJsZWQgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubG9nc0VuYWJsZWRcclxuICAgICAgICAgICAgICAgIDogdGhpcy5sb2dzRW5hYmxlZDtcclxuICAgICAgICB0aGlzLnNob3dDb3VudGVyID1cclxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuc2hvd0NvdW50ZXIgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuc2hvd0NvdW50ZXJcclxuICAgICAgICAgICAgICAgIDogdGhpcy5zaG93Q291bnRlcjtcclxuICAgICAgICB0aGlzLnNob3dQcmV2QnV0dG9uID1cclxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuc2hvd1ByZXZCdXR0b24gIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuc2hvd1ByZXZCdXR0b25cclxuICAgICAgICAgICAgICAgIDogdGhpcy5zaG93UHJldkJ1dHRvbjtcclxuICAgICAgICB0aGlzLnRoZW1lQ29sb3IgPSBvcHRpb25zLnRoZW1lQ29sb3JcclxuICAgICAgICAgICAgPyBvcHRpb25zLnRoZW1lQ29sb3JcclxuICAgICAgICAgICAgOiB0aGlzLnRoZW1lQ29sb3I7XHJcbiAgICAgICAgdGhpcy5maXJzdFN0ZXAgPSBvcHRpb25zLnN0YXJ0V2l0aDtcclxuICAgICAgICB0aGlzLndhaXRpbmdUaW1lID1cclxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMud2FpdGluZ1RpbWUgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMud2FpdGluZ1RpbWVcclxuICAgICAgICAgICAgICAgIDogREVGQVVMVF9USU1FT1VUX0JFVFdFRU5fU1RFUFM7XHJcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuY3VzdG9tVGV4dHMgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gdGhpcy5zZXRDdXN0b21UZXh0KG9wdGlvbnMuY3VzdG9tVGV4dHMpXHJcbiAgICAgICAgICAgIDogdGhpcy5zZXRDdXN0b21UZXh0KERFRkFVTFRfVEVYVFMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJhY2tkcm9wQ29sb3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGV4VG9SZ2IodGhpcy50aGVtZUNvbG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUaGVtZUNvbG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRoZW1lQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RlcERlZmF1bHRQb3NpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGVwRGVmYXVsdFBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0ZXBzT3JkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RlcHNPcmRlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFN0ZXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RTdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdhaXRpbmdUaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndhaXRpbmdUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGFyZUxvZ3NFbmFibGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvZ3NFbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQ291bnRlclZpc2libGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0NvdW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaXNQcmV2QnV0dG9uVmlzaWJsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaG93UHJldkJ1dHRvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXN0b21UZXh0cygpOiBPYnNlcnZhYmxlQ3VzdG9tVGV4dHMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbVRleHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q3VzdG9tVGV4dCh0ZXh0czogQ3VzdG9tVGV4dHMpIHtcclxuICAgICAgICBsZXQgcHJldiwgbmV4dCwgZG9uZSwgY2xvc2U6IHN0cmluZyB8IE9ic2VydmFibGU8c3RyaW5nPjtcclxuICAgICAgICBwcmV2ID0gdGV4dHMucHJldiA/IHRleHRzLnByZXYgOiBERUZBVUxUX1RFWFRTLnByZXY7XHJcbiAgICAgICAgbmV4dCA9IHRleHRzLm5leHQgPyB0ZXh0cy5uZXh0IDogREVGQVVMVF9URVhUUy5uZXh0O1xyXG4gICAgICAgIGRvbmUgPSB0ZXh0cy5kb25lID8gdGV4dHMuZG9uZSA6IERFRkFVTFRfVEVYVFMuZG9uZTtcclxuICAgICAgICBjbG9zZSA9IHRleHRzLmNsb3NlID8gdGV4dHMuY2xvc2UgOiBERUZBVUxUX1RFWFRTLmNsb3NlO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tVGV4dHMgPSA8T2JzZXJ2YWJsZUN1c3RvbVRleHRzPntcclxuICAgICAgICAgICAgcHJldjogdGhpcy50b09ic2VydmFibGUocHJldiksXHJcbiAgICAgICAgICAgIG5leHQ6IHRoaXMudG9PYnNlcnZhYmxlKG5leHQpLFxyXG4gICAgICAgICAgICBkb25lOiB0aGlzLnRvT2JzZXJ2YWJsZShkb25lKSxcclxuICAgICAgICAgICAgY2xvc2U6IHRoaXMudG9PYnNlcnZhYmxlKGNsb3NlKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b09ic2VydmFibGUodmFsdWU6IHN0cmluZyB8IE9ic2VydmFibGU8c3RyaW5nPikge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmFibGUgPyB2YWx1ZSA6IG9mKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhleFRvUmdiKGhleDogYW55KTogc3RyaW5nIHtcclxuICAgICAgICB2YXIgc2hvcnRoYW5kUmVnZXggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xyXG4gICAgICAgIGhleCA9IGhleC5yZXBsYWNlKHNob3J0aGFuZFJlZ2V4LCAobTogYW55LCByOiBhbnksIGc6IGFueSwgYjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgID8gYCR7cGFyc2VJbnQocmVzdWx0WzFdLCAxNil9LCAke3BhcnNlSW50KFxyXG4gICAgICAgICAgICAgICAgICByZXN1bHRbMl0sXHJcbiAgICAgICAgICAgICAgICAgIDE2XHJcbiAgICAgICAgICAgICAgKX0sICR7cGFyc2VJbnQocmVzdWx0WzNdLCAxNil9YFxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICB9XHJcbn1cclxuIl19